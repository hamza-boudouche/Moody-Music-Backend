openapi: 3.0.0
info:
  version: "1.0.0"
  title: "Moody Music"
  description: "API du projet integre du semestre 3"
servers:
  - url: "http://localhost:5000"
paths:
  /user/login:
    post:
      summary: Logs in, sets the authentication cookie, and returns the username of the account.
      requestBody:
        required: true
        description: A JSON object containing the username and password.
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  example: JohnDoe
                password:
                  type: string
                  example: 1234password5678
      responses:
        "200":
          description: Successfully authenticated. The session ID is returned in a cookie named `moodymusiclogin`. You need to include this cookie in subsequent requests.
          headers:
            Set-Cookie:
              schema:
                type: string
                example: moodymusiclogin=abcde12345; Path=/; HttpOnly
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: true
                  message:
                    type: string
                    description: a message that specifies the operation that was made
                    example: authenticated successfully
                  username:
                    type: string
                    description: the username of the user that was authenticated
                    example: johndoe
        "403":
          description: wrong username and/or password.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured (wrong username and/or password.)
                    example: wrong username and/or password.
        "422":
          description: missing username and/or password.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured (missing username and/or password.)
                    example: missing username and/or password.
  /user/check/:
    get:
      summary: check is username is valid for use in a new account
      parameters:
        - in: query
          name: username
          required: true
          example: johndoe2
          schema:
            type: string
          description: new username to validate
      responses:
        "200":
          description: username is either valid (isn't bound to another account yet) or not valid (already bound to another account)
          content:
            application/json:
              schema:
                type: object
                properties:
                  valid:
                    type: boolean
                    description: true if username is valid, false otherwise
                    example: true
  /user/register:
    post:
      summary: Registers the new user, and requests email validation
      requestBody:
        required: true
        description: A JSON object containing the login, password, and email adress.
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  example: JohnDoe
                password:
                  type: string
                  example: 1234password5678
                email:
                  type: string
                  example: johndoe@example.com
      responses:
        "200":
          description: Successfully added user.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  message:
                    type: string
                    description: a message that describes the operation.
                    example: waiting for email verification
                  delay:
                    type: integer
                    description: the delay after which the email validation link expires
                    example: 3600
        "422":
          description: Invalid username (already bound to another account) or missing username and/or password.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured (missing username and/or password. or username already bound to another account)
                    example: missing username and/or password.
        "400":
          description: Invalid email
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid email
  /user/register/validate:
    get:
      summary: Registers the new user, logs him in and returns the authentication cookie
      parameters:
        - in: path
          name: token
          required: true
          example: edrftgyhujikol8741562gtyuh
          schema:
            type: string
          description: the new user registration's validation token
      responses:
        "200":
          description: registration validated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: true
                  message:
                    type: string
                    description: a message that describes the operation.
                    example: added user johnDoe successfully
        "422":
          description: Invalid username (already bound to another account) or missing username and/or password.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid verification token
  /user/account:
    get:
      security:
        - cookieAuth: []
      summary: get user informations.
      responses:
        "200":
          description: the specified username is valid and user info is sent in the response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                    description: the id of the requested user
                  username:
                    type: string
                    example: JohnDoe
                    description: the username of the requested user
                  email:
                    type: string
                    example: JohnDoe@example.com
                    description: the email of the requested user
                  preferredGenre:
                    type: string
                    example: hip hop
                    description: the preferred genre of the requested user
                  commonMood:
                    type: string
                    example: happy
                    description: the most common mood of the requested user
                  recently upvoted playlists:
                    type: array
                    description: history of recently upvoted playlists
                    example:
                      - https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                      - https://open.spotify.com/embed/playlist/1DFixLWfPkv3KT3TnV69l6
                  preferred_music_genre:
                    type: string
                    example: hip hop
                    description: the preferred music genre of the current user according to upvoted playlists
                  number of upvotes:
                    type: integer
                    example: 5
                    description: the number of upvotes
                  number of downvotes:
                    type: integer
                    example: 2
                    description: the number of downvotes
                  number of playlists:
                    type: integer
                    example: 2
                    description: the number of personnal playlists
                  personnalPlaylists:
                    type: array
                    description: list of personnal playlists (added by this user)
                    example:
                      - https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                      - https://open.spotify.com/embed/playlist/1DFixLWfPkv3KT3TnV69l6
        "404":
          description: invalid username
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded of not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured (invalid username)
                    example: invalid username
  /user/multiple:
    get:
      summary: get multipls users, along with their associated informations.
      parameters:
        - in: query
          name: start
          required: false
          example: 5
          schema:
            type: integer
          description: the offset of users selection
        - in: query
          name: count
          required: false
          example: 10
          schema:
            type: string
          description: the size of the returned array of users
      responses:
        "200":
          description: the requested list of users
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  users:
                    type: array
                    items:
                      properties:
                        id:
                          type: integer
                          example: 1
                          description: the id of the requested user
                        username:
                          type: string
                          example: JohnDoe
                          description: the username of the requested user
                        email:
                          type: string
                          example: JohnDoe@example.com
                          description: the email of the requested user
                        preferredGenre:
                          type: string
                          example: hip hop
                          description: the preferred genre of the requested user
                        commonMood:
                          type: string
                          example: happy
                          description: the most common mood of the requested user
                        recently upvoted playlists:
                          type: array
                          description: history of recently upvoted playlists
                          example:
                            - https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                            - https://open.spotify.com/embed/playlist/1DFixLWfPkv3KT3TnV69l6
                        preferred_music_genre:
                          type: string
                          example: hip hop
                          description: the preferred music genre of the current user according to upvoted playlists
                        number of upvotes:
                          type: integer
                          example: 5
                          description: the number of upvotes
                        number of downvotes:
                          type: integer
                          example: 2
                          description: the number of downvotes
                        number of playlists:
                          type: integer
                          example: 2
                          description: the number of personnal playlists
                        personnalPlaylists:
                          type: array
                          description: list of personnal playlists (added by this user)
                          example:
                            - https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                            - https://open.spotify.com/embed/playlist/1DFixLWfPkv3KT3TnV69l6
  /user/update:
    put:
      security:
        - cookieAuth: []
      summary: get user informations.
      requestBody:
        description: new user informations.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: the username
                  example: johndoe
                email:
                  type: string
                  description: the new user email
                  example: newemailjohndoe@example.com
      responses:
        "200":
          description: the specified username is valid and user info is updated
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  message:
                    type: string
                    description: a message describing the operation that was done
                    example: update successful - johndoe
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: false
                  message:
                    type: string
                    description: a message describing the error that occurred
                    example: invalid authentication cookie
        "404":
          description: invalid account username
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded
                  message:
                    type: string
                    description: a message that specifies the error that occured (invalid account name)
                    example: account not found
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
  /user/delete:
    delete:
      security:
        - cookieAuth: []
      summary: delete connected user
      requestBody:
        description: username of user to delete
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: the username of the user to delete
                  example: johndoe
      responses:
        "200":
          description: the user account is deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  message:
                    type: string
                    description: a message describing the result of the operation
                    example: user johnDoe deleted successfully
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: a message that specifies the error that occured (invalid authorization cookie)
                    example: invalid authorization cookie
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
        "404":
          description: account not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: account not found
  /user/logout:
    put:
      security:
        - cookieAuth: []
      summary: get user informations.
      requestBody:
        description: information of the user to log out
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: the username
                  example: johndoe
      responses:
        "200":
          description: token invalidated successfully
          headers:
            Set-Cookie:
              schema:
                type: string
                example: moodymusiclogin=; Path=/; HttpOnly
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  message:
                    type: string
                    description: string describing the result of the operation
                    example: token invalidated
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: a message that specifies the error that occured (invalid authorization cookie)
                    example: invalid authorization cookie
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
  /mood/rec:
    post:
      summary: Receives an image as a parameter and returns the mood of the person in it
      requestBody:
        description: Take an image using the device's camera and send it in the body of the request in a binary string format
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: base64
                  example: /9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUVFRgVFRUSGBgYGBgYFRgYGBgYGBUSGBgaGRgYGBgcIS4lHB4sIRgYJjgmKy8xNTU1GiU7QDszPy40NTEBDAwMEA8QGhISHjQhISUxNDQxNDQ0NDQ0NDQ0NDUxMTQxMTExMTQ0NDE0PzQ0MTQxNTE0NDE/MT80MTExNDExMf/AABEIAM4A9QMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAACAAEDBAUGB//EAD4QAAIBAgMFBQUECQQDAAAAAAECAAMRBBIhBTFBUWEGIlJx0RMygZGSQqGxwQcUIzRigsLw8VNyc+EVsrP/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/EACERAQEBAQEAAgICAwAAAAAAAAABAhEhAzESUUFhEyJx/9oADAMBAAIRAxEAPwC0iyQLEiydVmGwqkMCOFkthAiUSVVhKsILAELHAhAQlWAAEICHljhYAwgsNUkipAjAkqU5XxmNSkVUq7M17KoBNha51IHGcH2g23iMRXajTZqSKctg2QkWFy7A6nUiwgdjjtt4aixR3IItchcw16iOu38NlDq+ZdfdGYi2+6DvDzItPN6WzlLhCzMqg52vbLbiTrcRrJcIjuQL3Nu6w5HmIHqWz9p0K1/ZupINiG7jX6K1iRLrUZ5DiNmMLNe
      responses:
        "200":
          description: an initial face detection algorithm has detected a face in the image and passed it to the mood detection algorithm which detected its corresponding mood
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  detectedMood:
                    type: string
                    description: the detected mood of the person's detected face
                    example: happy
        "500":
          description: no face was detected in the image.
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: the image doesn't contain any face
  /music/vote:
    put:
      security:
        - cookieAuth: []
      summary: Receives a vote from the user regarding a specific playlist
      requestBody:
        description: upvote or downvote (using a boolean flag) the music suggestion defined by its url
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                uri:
                  type: string
                  example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                vote:
                  description: "the vote as a int value: 1 for an upvote and -1 for a downvote, and 0 to cancel and initialize"
                  type: integer
                  example: 1
                mood:
                  description: the mood of the user currently voting
                  type: string
                  example: happy
      responses:
        "200":
          description: the normal response of this request; means that the operation was done succesfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  sucess:
                    type: boolean
                    description: a boolean indicating whether or not the operation succeeded or not
                    example: true
                  score:
                    type: string
                    description: a message explaining the operation that was made
                    example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3 upvoted successfully
        "404":
          description: specified uri not found in database, or invalid mood id
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid uri
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid authorization cookie
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
  /music:
    get:
      summary: receives a uri in the query and returns the corresponding playlist
      parameters:
        - in: path
          name: uri
          required: true
          example: playlist/drftgyuhgyhuioezre
          schema:
            type: string
          description: the uri of the playlist
      responses:
        "200":
          description: the playlist with the specified uri
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean value indicating whether or not the operation succeeded
                    example: true
                  title:
                    type: string
                    description: the title of the playlist
                    example: lofi hip hop
                  uri:
                    type: string
                    description: the uri of the playlist
                    example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                  upvoted:
                    type: integer
                    description: and integer flag that specifies whether the playlist is upvoted, downvoted, or wasn't affected by either of these actions.
                    example: 1
                  genre:
                    type: string
                    description: genre of the playlist
                    example: hip hop
                  mood:
                    type: string
                    description: the associated mood
                    example: neutral
        "404":
          description: the specified uri is not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean value indicating whether or not the operation succeeded
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: uri not found
  /music/add:
    post:
      security:
        - cookieAuth: []
      summary: Receives a new playlist uri that a specific user wants to add to his personnalized suggestions
      requestBody:
        description: contains uri and associated mood to the newly added playlist
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: username of the current user
                  example: johndoe
                uri:
                  type: string
                  description: uri of the playlist to add
                  example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                title:
                  type: string
                  description: title to associate with the playlist
                  example: lofi hip hop music
                moodid:
                  type: integer
                  description: id of mood associated to the playlist to add
                  example: 3
                genreid:
                  type: integer
                  description: id of genre of the playlist to add
                  example: 1
      responses:
        "200":
          description: playlist added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean value indicating whether or not the operation succeeded
                    example: true
                  message:
                    type: string
                    description: optionnal succes message
                    example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3 added successfully with title lofi hip hop music and mood happy
        "409":
          description: uri already exists in the database
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean value indicating whether or not the operation succeeded
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid uri (already bound to another playlist instance)
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: a message that specifies the error that occured (invalid authorization cookie)
                    example: invalid authorization cookie
        "400":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: a message that specifies the error that occured (invalid authorization cookie)
                    example: invalid authorization cookie
        "404":
          description: specified genre and/or mood not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean value indicating whether or not the operation succeeded
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: genre not found
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing uri, title, genreid, and/or moodid
  /music/rec:
    get:
      summary: Receives an image as a parameter and returns the mood of the person in it
      parameters:
        - in: path
          name: mood
          required: true
          example: happy
          schema:
            type: string
          description: the detected mood
      responses:
        "200":
          description: the playlists relative to this mood
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  playlists:
                    type: array
                    description: array of matched playlists
                    items:
                      properties:
                        uri:
                          type: string
                          description: uri of the playlist
                          example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                        title:
                          type: string
                          description: title to associate with the playlist
                          example: lofi hip hop music
                        moodid:
                          type: integer
                          description: id of mood associated to the playlist
                          example: 3
                        genreid:
                          type: integer
                          description: id of genre of the playlist
                          example: 1
        "404":
          description: unknown mood
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: mood not found (invalid moodid)
  /music/genre:
    get:
      summary: returns all genres with their respective info
      responses:
        "200":
          description: response contains array of genres
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  genres:
                    type: array
                    description: the actual array of genres
                    items:
                      type: object
                      description: the genre object
                      properties:
                        id:
                          type: integer
                          description: the id of the genre
                          example: 4
                        description:
                          type: string
                          description: a small description of the genre
                          example: description of the hip hop genre ...
                        title:
                          type: string
                          description: the title of the genre
                          example: hip hop
  /music/mood:
    get:
      summary: returns all moods with their respective info
      responses:
        "200":
          description: response contains array of moods
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag specifying if the operation succeded or not
                    example: true
                  genres:
                    type: array
                    description: the actual array of moods
                    items:
                      type: object
                      description: the mood object
                      properties:
                        id:
                          type: integer
                          description: the id of the mood
                          example: 4
                        description:
                          type: string
                          description: a small description of the mood
                          example: description of the happy mood ...
                        title:
                          type: string
                          description: the title of the happy
                          example: happy
  /music/update:
    put:
      security:
        - cookieAuth: []
      parameters:
        - in: path
          name: uri
          required: true
          example: playlist/tyyughjoipokaae
          schema:
            type: string
          description: the uri of the playlist to update
      summary: updates the infos of the playlist associated with the specified uri
      requestBody:
        description: contains the uri of the playlist to update as well as the new info to associate with it
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                uri:
                  type: string
                  example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3
                moodid:
                  description: the id of the new mood
                  type: string
                  example: sad
                genreid:
                  description: the id of the new genre
                  type: string
                  example: rock
      responses:
        "200":
          description: the normal response of this request; means that the operation was done succesfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  sucess:
                    type: boolean
                    description: a boolean indicating whether or not the operation succeeded or not
                    example: true
                  score:
                    type: string
                    description: a message explaining the operation that was made
                    example: https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3 updated successfully
        "404":
          description: specified uri not found in database, or invalid mood id
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid uri
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid authorization cookie
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
  /music/delete:
    delete:
      security:
        - cookieAuth: []
      parameters:
        - in: path
          name: uri
          required: true
          example: playlist/tyyughjoipokaae
          schema:
            type: string
          description: the uri of the playlist to delete
      summary: deletes the playlist associated with the specified uri
      requestBody:
        description: contains the username of the user deleting the playlist
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: the username of the user deleting the playlist
      responses:
        "200":
          description: the normal response of this request; means that the operation was done succesfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  sucess:
                    type: boolean
                    description: a boolean indicating whether or not the operation succeeded or not
                    example: true
                  message:
                    type: string
                    description: a message explaining the operation that was made
                    example: user johndoe deleted playlist lofi@https://open.spotify.com/embed/playlist/1DFixLWuPkv3KT3TnV35m3 successfully
        "404":
          description: specified uri not found in database
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  error:
                    type: string
                    description: a message that specifies the error that occured
                    example: uri not found
        "403":
          description: invalid authorization cookie
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: invalid authorization cookie
        "422":
          description: missing parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: a boolean flag indicating whether or not the operation succeeded or not
                    example: false
                  message:
                    type: string
                    description: a message that specifies the error that occured
                    example: missing username
components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: moodymusiclogin
